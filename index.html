<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>–ú–æ–π Mini App</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { margin:0; font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial;
           background: var(--tg-theme-bg-color); color: var(--tg-theme-text-color); }
    .wrap { padding:16px; }
    button {
      border:0; border-radius:10px; padding:14px 18px; cursor:pointer;
      background: var(--tg-theme-button-color); color: var(--tg-theme-button-text-color);
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>–ü—Ä–∏–≤–µ—Ç –∏–∑ Mini App</h1>
    <p id="who">–ó–∞–≥—Ä—É–∂–∞—é‚Ä¶</p>
    <button id="ok">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    // –ü–æ–∫–∞–∂–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç –∏–∑ Telegram)
    const u = tg.initDataUnsafe?.user;
    document.getElementById('who').textContent = u
      ? `–í—ã: ${u.first_name} ${u.last_name || ''}`.trim()
      : '–û—Ç–∫—Ä—ã—Ç–æ –≤–Ω–µ Telegram (–¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω–µ—Ç)';

    // –†–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–ª–∏–∫
    document.getElementById('ok').onclick = () => {
      tg.showPopup({ title: '–ì–æ—Ç–æ–≤–æ', message: '–ö–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç üëç' });
    };
  </script>
</body>
</html>
